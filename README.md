# Система рейтинга НККК

Система рейтинга и достижений для Новороссийского казачьего кадетского корпуса.

## Настройка проекта

1. Скопируйте `.env.example` в `.env` и заполните переменные окружения:
   ```bash
   cp .env.example .env
   ```

   **ВАЖНО**: Никогда не коммитьте файл `.env` с реальными ключами в репозиторий!

2. Установите зависимости:
   ```bash
   npm install
   ```

2. Настройте Supabase:
   - Создайте проект в [Supabase](https://supabase.com)
   - Скопируйте URL проекта и анонимный ключ в `.env`
   - Выполните миграции из папки `supabase/migrations/`

3. Установите зависимости:
   ```bash
   npm run dev
   ```

## Тестовые аккаунты

- **Администратор**: admin@nkkk.ru / admin123

**Кадеты:**
- **Петров А.В.**: petrov.alexey@nkkk.ru / cadet123
- **Сидоров Д.А.**: sidorov.dmitry@nkkk.ru / cadet123  
- **Козлов М.С.**: kozlov.mikhail@nkkk.ru / cadet123
- **Волков А.Н.**: volkov.andrey@nkkk.ru / cadet123
- **Морозов В.И.**: morozov.vladislav@nkkk.ru / cadet123

**Примечание**: Для работы тестовых аккаунтов необходимо:
1. Создать пользователей в Supabase Auth
2. Убедиться, что записи в таблице `users` созданы автоматически
3. Для кадетов - создать соответствующие записи в таблице `cadets`
4. Связать записи через поле `auth_user_id`

Подробные инструкции см. в файле `docs/login-credentials.md`

## Функциональность

- ✅ Рейтинг кадетов
- ✅ Система достижений
- ✅ Новости корпуса
- ✅ Задания для кадетов
- ✅ Админ-панель
- ✅ Профили кадетов
- ✅ Система баллов
- ✅ Защищенные маршруты и RLS политики

## Технологии

- React + TypeScript
- Tailwind CSS
- Framer Motion
- Supabase
- Vite

## Безопасность

Проект использует следующие меры безопасности:

- **Row Level Security (RLS)** для всех таблиц
- **Защищенные маршруты** с проверкой ролей
- **Централизованная обработка ошибок**
- **Безопасное логирование** без чувствительных данных
- **Валидация данных** на клиенте и сервере

## Разработка

- `npm run dev` - запуск в режиме разработки
- `npm run build` - сборка для продакшена
- `npm run lint` - проверка кода
